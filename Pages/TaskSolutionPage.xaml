<Page x:Class="GdzApp.Pages.TaskSolutionPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:conv="clr-namespace:GdzApp.Converters"
      Title="Решение задания">

    <Page.Resources>
        <conv:ImageUrlConverter x:Key="ImageUrlConverter"/>
        <conv:StringToVisibilityConverter x:Key="StringToVisibilityConverter"/>
    </Page.Resources>

    <DockPanel Margin="10">
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,15">
            <Button Content="← Назад к списку" Click="BackButton_Click"/>
            <TextBlock x:Name="TitleText" FontSize="18" FontWeight="Bold" Margin="15,0,0,0" 
                       VerticalAlignment="Center" Foreground="{StaticResource PrimaryBrush}"/>
        </StackPanel>

        <ScrollViewer>
            <StackPanel>
                <!-- Текстовое решение -->
                <Border Visibility="{Binding SolutionText, Converter={StaticResource StringToVisibilityConverter}}"
                        Background="#F9F9F9" Padding="20" Margin="0,0,0,15"
                        CornerRadius="6" BorderThickness="1" BorderBrush="#DDD">
                    <TextBlock Text="{Binding SolutionText}" TextWrapping="Wrap" 
                               FontSize="14" LineHeight="20"/>
                </Border>

                <!-- Изображение решения в оригинальном размере -->
                <Border Visibility="{Binding SolutionImageUrl, Converter={StaticResource StringToVisibilityConverter}}"
                        HorizontalAlignment="Left">
					<Image Source="{Binding SolutionImageUrl, Converter={StaticResource ImageUrlConverter}}"
                    Stretch="None" HorizontalAlignment="Left"/>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Page>